---
title: '21Feb 学习计划'
date: 2021-02-28 23:59:59
tags: 
mathjax: true
---

## $\mathcal{2.1}$
---

### [$ICPC\ WF\ 2019-交通堵塞$](https://loj.ac/p/6587)

令 $p_i = r_i + g_i$, $P = lcm(p_i)$，显然 $P\ |\ 2019!$。所以在 $[0, 2019!]$ 中随机实数 = 在 $[0, 2019!)$ 中随机实数 = 在 $[0, P)$ 中随机整数。

将某个出发时间 $t$ 表示为 $kX + a$ 的形式，其中 $X$ 是我们钦定的常数，$a \in [0, X)$。现在我们要解同余方程组 $kX + a + x_i \geq r_i\ mod\ p_i$，对于不同的 $a$ 分别处理（这里概率显然是可加的），就只要关心 $k$ 了。

设 $S$ 为满足条件的 $k$ 的 $kX + a$ 构成的集合，那么 $kX + a \in S\ mod\ p_i$ 变形为 $k \in S\ mod\ \frac{p_i}{gcd(p_i, X)}$。怎么合并解集呢？

对于两个同余方程，设解集分别为 $S_1$ 和 $S_2$, 若它们模数互质，则解集为 $S_1 \times S_2$。

所以取 $X = lcm(1, \cdots, 10) = 2520$，你会发现由于 $p_i \in [1, 100]$，所有 $\frac{p_i}{gcd(p_i, X)}$ 都只有一种因数！每种质数作为模数的解集大小乘起来就行。

数据范围很宽，大力三重循环枚举，复杂度 $O(100nX)$

[$Code$](https://loj.ac/s/1052240)

### [$Vim$](https://loj.ac/p/2687)

[大佬](https://www.cnblogs.com/Itst/p/10339605.html)

dp 如何划分阶段？我们还是从左往右，规定：每个位置 i 的贡献是从它出发直到到达下一个右边的位置的操作数（即从 i 出发，跨越 [i, i + 1] 的）。这个导致了线头 dp 的特点：“路径”在 dp 过程中不是连续的，而是许多个线头不断延长拼起来的。

设 f_{i, j} 表示

[$Code$](https://loj.ac/s/1053317)
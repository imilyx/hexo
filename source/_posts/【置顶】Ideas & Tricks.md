---
title: '【置顶】Ideas & Tricks'
date: 2100-00-00 00:00:00
tags: 
mathjax: true
---

## 杂
---

* 中位数相关可考虑二分，将小于二分值的标为 $-1$，大于二分值的标为 $1$

* 看见乘积考虑取 $log$，这样开方就变成除法，乘就变成加法了，有很多优秀的性质

* 网格图套路一览：$C = V - E + F$; 分治最短路；二分图染色；笛卡尔树；斯坦纳树（待补）

* 得失转换题倒顺序。（$UOJ418$ 等许许多多）

* 某类树上贪心常见题：选了父亲后才能选儿子，要求某些东西最优化。技巧：优的点一定会在父亲被选后立刻被选。堆维护优先级，每次取出队首和父亲所在块合并（如 $UOJ418$ 是放到该块的操作序列末尾）

* **批量**维护删除或加入信息的可以尝试分治，线段树之类的。

* 取 K 个最大对，考虑「超级钢琴」做法。本质是贪心和压缩信息。普通形式是维护指针，被取了就后移，一个道理。

## dp
---

* $dp$ 套 $dp$ 可以看作在一个自动机上暴跑。

* 要在第一项最优的情况下让第二项最优，比如总个数尽量少的情况下总和尽量小，可以把总和加上 $inf$. ($LOJ2977$)

* 用期望做计数题（比较典型的是 $ZJOI2019-线段树$）

## 数学
---

* [快速阶乘算法](https://www.cnblogs.com/gryzy/p/6015485.html)

* 生成函数多考虑实际意义

* 面对多项式束手无策，不如把它变成封闭形式搞事情，多项式的加减乘除和数的加减乘除类似的，还可以求导、$ln$、$exp$，多好啊！

* 把 $\prod_{i = l}^{r}$ 变成一个 $r - l + 1$ 次的多项式，就可以 $\sum$ 啦！$\sum$ 就能搞事情啦！

* 容斥系数可 $dp$！可大力优化指数级复杂度到多项式复杂度。

* 期望可用整数概率公式拆分，化计数问题为判定问题，更具体的说，化“恰好”为“至少”，易化了问题。

## 图论
---

* 树上路径问题考虑边分治或者点分治 + 堆
---
title: '【置顶】Ideas & Tricks'
date: 2100-00-00 00:00:00
tags: 
mathjax: true
---

## 杂
---

* 中位数相关可考虑二分，将小于二分值的标为 $-1$，大于二分值的标为 $1$

* 看见乘积考虑取 $log$，这样开方就变成除法，乘就变成加法了，有很多优秀的性质

* 网格图套路一览：$C = V - E + F$; 分治最短路；二分图染色；笛卡尔树；斯坦纳树（待补）

* 得失转换题倒顺序。（$UOJ418$ 等许许多多）

* 某类树上贪心常见题：选了父亲后才能选儿子，要求某些东西最优化。技巧：优的点一定会在父亲被选后立刻被选。堆维护优先级，每次取出队首和父亲所在块合并（如 $UOJ418$ 是放到该块的操作序列末尾）

* **批量**维护删除或加入信息的可以尝试分治，线段树之类的。

* 取 K 个最大对，考虑「超级钢琴」做法。本质是贪心和压缩信息。普通形式是维护指针，被取了就后移，一个道理。

* 小于某个 $limit$ 的操作都被执行，就可以从小往大执行操作。

* 处理区间的套路：固定一维先算，再求和。

* 区间本质不同计数：“特征点”思想，数据结构维护

## dp
---

* $dp$ 套 $dp$ 可以看作在一个自动机上暴跑。

* 要在第一项最优的情况下让第二项最优，比如总个数尽量少的情况下总和尽量小，可以把总和加上 $inf$. ($LOJ2977$)

* 用期望做计数题（比较典型的是 $ZJOI2019-线段树$）

* 二进制值域分块，例如高八位和低八位分别在修改和查询时枚举。（$uoj549$）

* 形如 $dp[i] = \sum\limits_{j = 1}^{c_i} dp[i - j * d]$，可以每 $c_i$ 个设置关键点，$O(n)$ 预处理每个块前后缀和，$O(1)$ 查询。

* dp 柿子写出来后信仰 BM。

## 数学
---

* [快速阶乘算法](https://www.cnblogs.com/gryzy/p/6015485.html)

* 生成函数可考虑实际意义

* 面对多项式束手无策，不如把它变成封闭形式搞事情，多项式的加减乘除和数的加减乘除类似的，还可以求导、$ln$、$exp$，多好啊！

* 把 $\prod_{i = l}^{r}$ 变成一个 $r - l + 1$ 次的多项式，就可以 $\sum$ 啦！$\sum$ 就能搞事情啦！

* 容斥系数可 $dp$！可大力优化指数级复杂度到多项式复杂度。

* 期望可用整数概率公式拆分，化计数问题为判定问题，更具体的说，化“恰好”为“至少”，易化了问题。

* 有组合数形式的拆了，元素过大时可考虑下降幂/上升幂形式。

* 看到二维 $FFT$ 别怕，想想先计一维贡献、再计另一维贡献。（$UOJ574$-多线程计算）

* 多项式不一定要 FFT/NTT，可以点值对应位相乘最后插值插回来。（秘密袭击）

* 带删除的线性基（比如动态求 01 矩阵的秩）：[大佬比较详细的解说](https://blog.csdn.net/a_forever_dream/article/details/83654397) 考虑删除向量 $x$ 后我们要尽量找一个来替代 $x$。对线性基里每个向量记录它插入时异或了哪些向量。找到「受本次删除影响」的基外向量 $y$，如果不存在基外的就找基内最低的（这样在删除时就不会影响更低位的向量），把 $y$ 其它受影响的向量异或上 $y$（$y$ 自己变成 $0$，这样就能消除 $x$ 在线性基里的影响，相当于用 $y$ 替代了 $x$）；如果找的是基内的，秩数 $-1$（围绕着我们的圆环）

## 图论
---

* 树上路径问题考虑边分治或者点分治 + 堆

* 构造一个排列使得权值最大——用费用流求解。

* 网络流中用连**反向** $\infty$ 边来实现限制。

## 数据结构
---

* 树状数组区间修改区间查询？

    差分, $d_i = a_i - a_{i - 1}, a_i = \sum\limits_{j = 1}^i d_i$

    $$\sum\limits_{i = 1}^x a_i = \sum\limits_{i = 1}^x \sum\limits_{j = 1}^i d_i = \sum\limits_{i = 1}^x d_i * (x - i + 1) = (x + 1) * \sum\limits_{i = 1}^x d_i - \sum\limits_{i = 1}^x d_i * i$$

* 区间问题转二维数点。

